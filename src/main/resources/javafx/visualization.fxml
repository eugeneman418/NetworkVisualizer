<?xml version="1.0" encoding="UTF-8"?>

<?import com.sothawo.mapjfx.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.*?>
<?import javafx.scene.text.*?>

<BorderPane prefHeight="400.0" prefWidth="600.0" xmlns="http://javafx.com/javafx/17.0.2-ea" xmlns:fx="http://javafx.com/fxml/1" fx:controller="org.networkvisualizer.visualizer.VisualizationController">

   <center>
      <SplitPane dividerPositions="0.01, 0.7" prefWidth="30.0">

         <!-- Left Panel: Gradient Rectangle and Labels -->
         <HBox alignment="CENTER" spacing="0">
            <Text rotate="-90" style="-fx-padding: 0;" text="Vehicles" />
            <VBox fx:id="colorBarContainer" alignment="CENTER" prefHeight="382.0" prefWidth="30.0" style="-fx-padding: 0;">
               <Text fx:id="maxIntensityLabel" text="x" />
               <Rectangle fx:id="colorBar" height="100" width="30" />
            </VBox>
         </HBox>

         <!-- Center Panel: MapView -->
         <StackPane prefWidth="400.0">
            <MapView fx:id="mapView" prefHeight="382.0" prefWidth="250.0" />
         </StackPane>

         <!-- Right Panel: Table and Checkboxes -->
         <VBox prefWidth="150.0">
            <TableView fx:id="tableView" VBox.vgrow="ALWAYS">
               <columnResizePolicy>
                  <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
               </columnResizePolicy>
               <columns>
                  <TableColumn fx:id="originCol" text="Origin" />
                  <TableColumn fx:id="destCol" text="Destination" />
                  <TableColumn fx:id="catCol" text="Category" />
                  <TableColumn fx:id="quantCol" text="Quantity" />
               </columns>
            </TableView>
            <CheckBox fx:id="showTruckBox" onAction="#updateMap" selected="true" text="Truck" />
            <CheckBox fx:id="showTrainBox" onAction="#updateMap" selected="true" text="Train" />
            <CheckBox fx:id="showBargeBox" onAction="#updateMap" selected="true" text="Barge" />
         </VBox>

      </SplitPane>
   </center>

   <bottom>
      <HBox prefHeight="10.0" prefWidth="600.0" BorderPane.alignment="CENTER">
         <Text fx:id="timeLabel" strokeType="OUTSIDE" strokeWidth="0.0" text="Time: " />
         <Slider fx:id="timeSlider" blockIncrement="1" majorTickUnit="10" minorTickCount="9" prefHeight="16.0" showTickLabels="false" showTickMarks="false" snapToTicks="true" HBox.hgrow="ALWAYS" />
      </HBox>
   </bottom>

</BorderPane>
